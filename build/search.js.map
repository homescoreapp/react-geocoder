{"version":3,"sources":["../src/search.js"],"names":["endpoint","source","accessToken","proximity","bbox","types","query","onResult","searchTime","Date","uri","encodeURIComponent","fetch","json","data","search"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uEAEe;AAAA,UACbA,QADa,SACbA,QADa;AAAA,UAEbC,MAFa,SAEbA,MAFa;AAAA,UAGbC,WAHa,SAGbA,WAHa;AAAA,kCAIbC,SAJa;AAAA,UAIbA,SAJa,mCAID,EAJC;AAAA,6BAKbC,IALa;AAAA,UAKbA,IALa,8BAKN,EALM;AAAA,8BAMbC,KANa;AAAA,UAMbA,KANa,+BAML,EANK;AAAA,UAObC,KAPa,SAObA,KAPa;AAAA,UAQbC,QARa,SAQbA,QARa;AAAA;AAAA;AAAA;AAAA;AAAA;AAUPC,wBAVO,GAUM,IAAIC,IAAJ,EAVN;AAWPC,iBAXO,GAWEV,QAXF,sBAYXC,MAZW,SAYDU,mBAAmBL,KAAnB,CAZC,2BAaSJ,WAbT,IAcVC,4BACeA,SADf,GAEC,EAhBS,KAiBVC,kBAAgBA,IAAhB,GAAyB,EAjBf,KAkBVC,oBACWM,mBAAmBN,KAAnB,CADX,GAEC,EApBS;AAAA;AAAA,qBAuBaO,MAAMF,GAAN,CAvBb;;AAAA;AAAA;AAAA,mCAuByBG,IAvBzB;;AAAA;AAuBPC,kBAvBO;;;AAyBbP,uBAASO,IAAT,EAAeN,UAAf;;AAzBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;aAAeO,M;;;;WAAAA,M","file":"search.js","sourcesContent":["import 'babel-polyfill';\n\nexport default async function search({\n  endpoint,\n  source,\n  accessToken,\n  proximity = '',\n  bbox = '',\n  types = '',\n  query,\n  onResult,\n}) {\n  const searchTime = new Date();\n  const uri = `${endpoint}/geocoding/v5/${\n    source}/${encodeURIComponent(query)\n  }.json?access_token=${accessToken\n  }${proximity\n    ? `&proximity=${proximity}`\n    : ''\n  }${bbox ? `&bbox=${bbox}` : ''\n  }${types\n    ? `&types=${encodeURIComponent(types)}`\n    : ''\n  }`;\n\n  const data = await (await fetch(uri)).json();\n\n  onResult(data, searchTime);\n}\n"]}